@model Alboraq.MobileApp.Core.Entities.Product

@{
    ViewBag.Title = "ProductDetails";
}

<h2>Product no: @Model.ProductNo</h2>

<div class="row">
    <div class="col-md-5">
        <div class="img-container-details">
            <h3>Image Preview</h3>
            @if (Model.Image == null)
            {
                <img id="imgPreviewer" src="~/dist/images/noimage.png" alt="@Model.ProductName" class="img-responsive img-thumbnail" />
            }
            else
            {
                <img id="imgPreviewer" src="@Url.Action("RetrieveProductImage", new { productNo = Model.ProductNo })" alt="@Model.ProductName" class="img-responsive img-thumbnail" />
            }
        </div>
    </div>
    <div class="col-md-7">
        @using (Html.BeginForm("updateproduct", "prod", FormMethod.Post, new { enctype = "multipart/form-data", id = "frmUpdateProduct" }))
        {
            @Html.AntiForgeryToken()            
            <div class="form-horizontal">
                <h4>Product</h4>
                <hr />
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div class="form-group">
                    <label class="control-label col-md-2">Product no.</label>                    
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.ProductNo, new { htmlAttributes = new { @class = "form-control", @readonly = "readonly" } })
                        @Html.ValidationMessageFor(model => model.ProductNo, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-2">Product name</label>
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.ProductName, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.ProductName, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-2">Description</label>
                    <div class="col-md-10">
                        @Html.TextAreaFor(model => model.ProductDescription, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.ProductDescription, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-2">Unit price</label>
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.UnitPrice, new { htmlAttributes = new { @class = "form-control", type = "number", min = 0.00 } })
                        @Html.ValidationMessageFor(model => model.UnitPrice, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-2">Quantity</label>
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Qoh, new { htmlAttributes = new { @class = "form-control", type = "number", min = 0 } })
                        @Html.ValidationMessageFor(model => model.Qoh, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-2">Image</label>
                    <div class="col-md-10">
                        @Html.TextBoxFor(model => model.Image, new { @class = "form-control", type = "file", accept = "image/jpg,image/jpeg,image/png" })
                        @Html.ValidationMessageFor(model => model.Image, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-2">Category</label>
                    <div class="col-md-10">
                        @Html.DropDownList("ProductCategoryID", null, null, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.ProductCategoryID, "", new { @class = "text-danger" })
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Submit" class="btn btn-default" />
                    </div>
                </div>
            </div>
        }

        <p>
            @Html.ActionLink("Back to List of Products", "ProductList", null, new { @class = "btn btn-default" })
        </p>        
    </div>
</div>

@section scripts{    
    <script src="~/dist/js/editProduct.js"></script>
}
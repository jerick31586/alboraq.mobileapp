@model Alboraq.MobileApp.WebApi.Models.Admin.Products.NewProductCategoryViewModel

@{
    ViewBag.Title = "New Product Category";
}

<h2>Add New Product Category</h2>

@using (Html.BeginForm("newproductcategory", "prod", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    
    <div class="form-horizontal">
        <h4>Product Category</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        <div class="form-group">
            @Html.LabelFor(model => model.ProductCategoryModel.CategoryName, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.ProductCategoryModel.CategoryName, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.ProductCategoryModel.CategoryName, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ProductCategoryModel.CategoryDescription, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.ProductCategoryModel.CategoryDescription, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.ProductCategoryModel.CategoryDescription, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ProductCategoryModel.Image, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.TextBoxFor(model => model.ProductCategoryModel.Image, new { @class = "form-control", type = "file" })
                @Html.ValidationMessageFor(model => model.ProductCategoryModel.Image, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Submit" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<div>
    @Html.ActionLink("Back to List of Products", "productlist")
</div>


@if (Model.ProductCategories.Count > 0)
{    
    <table class="table table-condensed">
        <thead>
            <tr>
                <th></th>
                <th>Category name</th>
                <th>Description</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var category in Model.ProductCategories)
            {
                <tr>
                    <td>
                        @if (category.Image == null)
                        {
                            <img src="~/dist/images/noimage.png" alt="@category.CategoryName" height="100" width="100" />
                        }
                        else
                        {
                            <img src="@Url.Action("RetrieveProductCategoryImage","prod", new { id = category.ProductCategoryID })" alt="@category.CategoryName" height="100" width="100" />
                        }

                    </td>
                    <td>@category.CategoryName</td>
                    <td>@category.CategoryDescription</td>
                </tr>
            }
        </tbody>
    </table>
}
